(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{149:function(e,n,t){"use strict";t.r(n),t.d(n,"queryClient",(function(){return Tn}));var c,r,a,i,o,s,l,j,b,d,u,x,O,p,h,f,m,g,v,y,w,S,k,C,z,N,A,W,I,T,q,D,B,R,F=t(0),Q=t.n(F),V=t(16),E=t.n(V),L=t(30),H=t(203),J=t(70),M=t(18),U=t(21),X=t(11),G=t.n(X),K=t(20),P=t(22),Y=t(8),Z=t(36),$=t.n(Z),_=t(204),ee=t(206),ne=t(9),te=t(2),ce=ne.b.header(c||(c=Object(Y.a)(["\n  width: 100%;\n  background-color: #3f51b5;\n\n  color: white;\n"]))),re=ne.b.div(r||(r=Object(Y.a)(["\n  max-width: 1200px;\n  min-width: 700px;\n  padding: 2rem;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;;\n"]))),ae=function(e){var n=e.children;return Object(te.jsx)(ce,{children:Object(te.jsx)(re,{children:n})})},ie=t(205),oe=ne.b.ul(a||(a=Object(Y.a)(["\n  display: flex;\n  list-style-type: none;\n  gap: 1rem;\n\n  color: white;\n  font-size: 2rem;\n"]))),se=Object(ne.b)(L.c)(i||(i=Object(Y.a)(["\n  text-decoration: none;\n  color: white;\n"]))),le=Object(ne.b)(ie.a)(o||(o=Object(Y.a)(["\n  && {\n    font-size: 1.3rem;\n    font-weight: 300;\n    color: white;\n  }\n"]))),je=function(){return Object(te.jsx)("div",{children:Object(te.jsx)(oe,{children:Object(te.jsxs)(le,{children:[Object(te.jsx)(se,{to:"/",children:"Home"}),Object(te.jsx)(se,{to:"/",children:"Subjects"}),Object(te.jsx)(se,{to:"/about",children:"About"})]})})})},be=t(101),de=t.n(be),ue=t(187),xe=Object(ne.b)(L.b)(s||(s=Object(Y.a)(["\n  text-decoration: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),Oe=function(){return Object(te.jsxs)(xe,{to:"/subjects",children:[Object(te.jsx)(de.a,{fontSize:"large"}),Object(te.jsx)(ue.a,{variant:"h5",style:{fontWeight:"300"},children:"Notes"})]})},pe=ne.b.div(l||(l=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2rem;\n  background-color: #3f51b5;\n  width: 100%;\n  color: white;\n"]))),he=function(){return Object(te.jsxs)(pe,{children:[Object(te.jsx)("span",{children:"WFiIS-BD2-2021"}),Object(te.jsx)("span",{children:"Adrian Furman"})]})},fe=t(189),me=t(190),ge=t(188),ve=Object(ne.b)(L.b)(j||(j=Object(Y.a)(["\n  text-decoration: none;\n  color: black;\n  position: relative;\n"]))),ye=Object(ne.b)(ge.a)(b||(b=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),we=function(e){var n=e.id,t=e.name,c=e.description;return Object(te.jsx)(ve,{to:"/subjects/".concat(n,"/notes"),children:Object(te.jsx)(fe.a,{elevation:3,style:{height:"100%"},children:Object(te.jsxs)(me.a,{style:{height:"100%",padding:"0"},children:[Object(te.jsx)("img",{src:"https://placeholder.pics/svg/300x200",alt:"sss",style:{width:"100%",padding:"0"}}),Object(te.jsxs)(ye,{children:[Object(te.jsx)(ue.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(te.jsx)(ue.a,{variant:"body2",color:"textSecondary",component:"p",children:c})]})]})})})},Se=t(43),ke=ne.b.div(d||(d=Object(Y.a)(["\n  width: 800px;\n\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 2rem;\n\n  background-color: white;\n"]))),Ce=ne.b.form(u||(u=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),ze=ne.b.div(x||(x=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n"]))),Ne=t(201),Ae=t(191),We=Q.a.forwardRef((function(e,n){var t=Object(Se.b)(),c=t.handleSubmit,r=t.control,a=e.onAddSubject,i=c(function(){var e=Object(K.a)(G.a.mark((function e(n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return Object(te.jsx)(ke,{ref:n,children:Object(te.jsxs)(Ce,{onSubmit:i,children:[Object(te.jsx)(ue.a,{variant:"h5",children:"Add new subject:"}),Object(te.jsx)(Se.a,{name:"name",control:r,defaultValue:"",rules:{required:"Name is required"},render:function(e){var n=e.field,t=e.fieldState.error;return Object(te.jsx)(Ne.a,Object(U.a)(Object(U.a)({label:"Name",fullWidth:!0,variant:"outlined"},n),{},{error:!!t,helperText:t&&t.message}))}}),Object(te.jsx)(Se.a,{name:"description",control:r,defaultValue:"",rules:{required:"Description is required"},render:function(e){var n=e.field,t=e.fieldState.error;return Object(te.jsx)(Ne.a,Object(U.a)(Object(U.a)({label:"Description",fullWidth:!0,variant:"outlined",multiline:!0,rows:4},n),{},{error:!!t,helperText:t&&t.message}))}}),Object(te.jsxs)(ze,{children:[Object(te.jsx)(Ae.a,{type:"submit",variant:"contained",color:"secondary",children:"Cancel"}),Object(te.jsx)(Ae.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})})),Ie=(ne.b.article(O||(O=Object(Y.a)(["\n  padding: 1rem;\n  border: 1px solid grey;\n\n  border-radius: 5px;\n"]))),ne.b.span(p||(p=Object(Y.a)(["\n  font-size: 0.9rem;\n  color: gray;\n  display: flex;\n  gap: 0.5rem;\n  justify-content: space-between;\n  align-items: center;\n"])))),Te=t(193),qe=t(192),De=t(69),Be=t.n(De),Re=t(103),Fe=t.n(Re),Qe=t(102),Ve=t.n(Qe),Ee=function(e){var n=e.title,t=e.content,c=e.createdAt,r=e.onDeleteNote,a=e.id,i=e.onOpenNote;return Object(te.jsxs)(fe.a,{elevation:3,children:[Object(te.jsxs)(ge.a,{children:[Object(te.jsxs)(ue.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{display:"flex",justifyContent:"space-between"},children:[n,Object(te.jsxs)(Ie,{children:[Object(te.jsx)(Be.a,{fontSize:"small"}),c.substring(0,10)]})]}),Object(te.jsx)(ue.a,{variant:"body2",color:"textSecondary",component:"p",children:t.substring(0,160)+"..."})]}),Object(te.jsx)(qe.a,{}),Object(te.jsxs)(Te.a,{children:[Object(te.jsx)(Ae.a,{variant:"contained",size:"small",color:"primary",endIcon:Object(te.jsx)(Ve.a,{}),onClick:function(){return i(a)},children:"See more"}),Object(te.jsx)(Ae.a,{variant:"contained",size:"small",color:"secondary",endIcon:Object(te.jsx)(Fe.a,{}),onClick:function(){return r(a)},children:"delete"})]})]})},Le=(ne.b.div(h||(h=Object(Y.a)(["\n  width: 300px;\n  height: 60px;\n  display: flex;\n  border-radius: 30px;\n  border: 3px solid blue;\n\n  justify-content: start;\n  align-items: center;\n  padding: 0.3rem 1rem;\n"]))),t(104),ne.b.div(f||(f=Object(Y.a)(["\n  width: 1000px;\n\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 2rem;\n\n  background-color: white;\n"])))),He=ne.b.form(m||(m=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),Je=ne.b.div(g||(g=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n"]))),Me=Q.a.forwardRef((function(e,n){var t=Object(Se.b)(),c=t.handleSubmit,r=t.control,a=e.subjectId,i=e.onAddNote,o=c((function(e){i(Object(U.a)(Object(U.a)({},e),{},{subjectId:a}))}));return Object(te.jsx)(Le,{ref:n,children:Object(te.jsxs)(He,{onSubmit:o,children:[Object(te.jsx)(ue.a,{variant:"h5",children:"Add new note or definition:"}),Object(te.jsx)(Se.a,{name:"title",control:r,defaultValue:"",rules:{required:"Title is required"},render:function(e){var n=e.field,t=e.fieldState.error;return Object(te.jsx)(Ne.a,Object(U.a)(Object(U.a)({label:"Titile",fullWidth:!0,variant:"outlined"},n),{},{error:!!t,helperText:t&&t.message}))}}),Object(te.jsx)(Se.a,{name:"content",control:r,defaultValue:"",rules:{required:"Content is required"},render:function(e){var n=e.field,t=e.fieldState.error;return Object(te.jsx)(Ne.a,Object(U.a)(Object(U.a)({label:"Content",fullWidth:!0,variant:"outlined",multiline:!0,rows:12},n),{},{error:!!t,helperText:t&&t.message}))}}),Object(te.jsxs)(Je,{children:[Object(te.jsx)(Ae.a,{type:"submit",variant:"contained",color:"secondary",children:"Cancel"}),Object(te.jsx)(Ae.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})})),Ue=t(194),Xe=ne.b.div(v||(v=Object(Y.a)(["\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  max-width: 1240px;\n  height: 100vh;\n  overflow-y: auto;\n  background-color: white;\n  padding: 2rem\n"]))),Ge=ne.b.header(y||(y=Object(Y.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 3px solid #3f51b5;\n  margin-bottom: 1rem;\n"]))),Ke=ne.b.span(w||(w=Object(Y.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 1rem;\n  gap: 0.5rem;\n  color: gray;\n"]))),Pe=ne.b.span(S||(S=Object(Y.a)(["\n  color: #515151;\n  padding: 5px 10px;\n  border-radius: 10px;\n  background-color: yellow;\n  font-weight: 400;\n"]))),Ye=Object(ne.b)(Ue.a)(k||(k=Object(Y.a)(["\n  && {\n    position: absolute;\n    right: 0rem;\n  }\n"]))),Ze=t(105),$e=t.n(Ze),_e=Q.a.forwardRef((function(e,n){var t=e.note,c=e.searchText,r=e.subject,a=e.closeNote,i=t.title,o=t.content,s=t.createdAt,l=o.split("\n").map((function(e,n){if(!e)return null;var t=[];if(c){for(var r=e.split(new RegExp("".concat(c),"i")),a=0;a<r.length-1;a++)t.push(r[a]),t.push(Object(te.jsx)(Pe,{children:c.toUpperCase()},(n+1)*(a+1)));t.push(r[r.length-1])}else t.push(e);return Object(te.jsx)(ue.a,{variant:"body1",style:{fontSize:"1.2rem",fontWeight:"300",marginBottom:"1rem"},children:t},n)}));return Object(te.jsxs)(Xe,{children:[Object(te.jsxs)(Ge,{children:[Object(te.jsxs)(ue.a,{variant:"h4",children:[r," / ",i,Object(te.jsxs)(Ke,{children:[Object(te.jsx)(Be.a,{}),s.substring(0,10)]})]}),Object(te.jsx)(Ye,{"aria-label":"add",onClick:a,children:Object(te.jsx)($e.a,{})})]}),l]})})),en=t(195),nn=t(202),tn=t(106),cn=t.n(tn),rn="https://bd2-notes.azurewebsites.net",an=ne.b.div(C||(C=Object(Y.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  grid-gap: 2rem;\n"]))),on=ne.b.header(z||(z=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),sn=function(){var e=Object(F.useState)(!1),n=Object(P.a)(e,2),t=n[0],c=n[1],r=Object(_.a)("subjects",Object(K.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat(rn,"/Subject"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))),a=r.isLoading,i=r.data,o=Object(ee.a)((function(e){return $.a.post("".concat(rn,"/Subject"),e)}),{onSuccess:function(){Tn.invalidateQueries("subjects"),c(!1)}});return Object(te.jsxs)("div",{children:[Object(te.jsxs)(on,{children:[Object(te.jsx)(ue.a,{variant:"h4",children:"Subjects"}),Object(te.jsx)(Ae.a,{variant:"contained",color:"primary",onClick:function(){return c(!0)},startIcon:Object(te.jsx)(cn.a,{}),children:"add subject"})]}),a?Object(te.jsx)(en.a,{style:{width:"100%"}}):Object(te.jsx)(an,{children:i.map((function(e){return Object(te.jsx)(we,Object(U.a)({},e),e.id)}))}),Object(te.jsx)(nn.a,{open:t,onClose:function(){return c(!1)},children:Object(te.jsx)(We,{onAddSubject:o.mutate})})]})},ln=t(151),jn=Object(ne.b)(ln.a)(N||(N=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  margin-bottom: 1.25rem;\n"]))),bn=ne.b.div(A||(A=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 3px solid #3f51b5;\n"]))),dn=ne.b.div(W||(W=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),un=ne.b.div(I||(I=Object(Y.a)(["\n  width: 400px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n\n  & > :first-child {\n    flex: 1;\n  }\n"]))),xn=t(196),On=t(108),pn=t(207),hn=t(197),fn=t(198),mn=t(199),gn=t(200),vn="https://bd2-notes.azurewebsites.net",yn=function(){var e=Object(F.useState)(!1),n=Object(P.a)(e,2),t=n[0],c=n[1],r=Object(F.useState)(null),a=Object(P.a)(r,2),i=a[0],o=a[1],s=Object(F.useState)(null),l=Object(P.a)(s,2),j=l[0],b=l[1],d=Object(F.useState)(""),u=Object(P.a)(d,2),x=u[0],O=u[1],p=Object(F.useState)(""),h=Object(P.a)(p,2),f=h[0],m=h[1],g=parseInt(Object(M.g)().id),v=Object(M.f)(),y=Object(_.a)("subjects",Object(K.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat(vn,"/Subject"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))),w=y.isLoading,S=y.data,k=Object(_.a)(["subject-".concat(g,"-notes"),f],function(){var e=Object(K.a)(G.a.mark((function e(n){var t,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.queryKey,c=t[1],e.next=4,$.a.get("".concat(vn,"/Subject/").concat(g,"/Notes?search=").concat(c));case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),C=k.isLoading,z=k.data,N=k.refetch,A=Object(ee.a)((function(e){return $.a.post("".concat(vn,"/Note"),e)}),{onSuccess:function(){Tn.invalidateQueries("subject-".concat(g,"-notes")),c(!1)}}),W=Object(ee.a)((function(){return $.a.delete("".concat(vn,"/Subject/").concat(g))}),{onSuccess:function(){v.push("/"),Tn.invalidateQueries("subjects")}}),I=Object(ee.a)((function(e){return $.a.delete("".concat(vn,"/Note/").concat(e))}),{onSuccess:function(){Tn.invalidateQueries("subject-".concat(g,"-notes"))}}),T=w?null:S.find((function(e){return e.id===g})),q=function(e){var n=z.find((function(n){return n.id===e}));n&&o(n)};return Object(te.jsx)("div",{children:w?null:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(bn,{children:[Object(te.jsxs)(ue.a,{variant:"h4",children:[Object(te.jsx)(xn.a,{onClick:function(e){return v.push("/")},children:Object(te.jsx)(hn.a,{})}),T&&T.name]}),Object(te.jsx)(xn.a,{onClick:function(e){return b(e.currentTarget)},children:Object(te.jsx)(fn.a,{})}),Object(te.jsx)(On.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:function(e){return b(null)},children:Object(te.jsx)(pn.a,{onClick:W.mutate,children:"Delete subject"})})]}),Object(te.jsxs)(jn,{component:"form",elevation:5,onSubmit:function(e){e.preventDefault(),N()},children:[Object(te.jsxs)(un,{children:[Object(te.jsx)(Ne.a,{placeholder:"Search by text",value:x,onChange:function(e){return O(e.target.value)}}),Object(te.jsx)(Ue.a,{color:"primary",size:"medium",type:"submit","aria-label":"search",onClick:function(){return m(x)},children:Object(te.jsx)(mn.a,{})})]}),Object(te.jsx)(qe.a,{orientation:"vertical"}),Object(te.jsx)(Ae.a,{color:"primary",variant:"contained",startIcon:Object(te.jsx)(gn.a,{}),onClick:function(){return c(!0)},children:"Add note"})]}),C?Object(te.jsx)(en.a,{style:{width:"100%"}}):Object(te.jsx)(dn,{children:z.map((function(e){return Object(te.jsx)(Ee,Object(U.a)(Object(U.a)({},e),{},{onDeleteNote:I.mutate,onOpenNote:q}),e.id)}))}),Object(te.jsx)(nn.a,{open:t,onClose:function(){return c(!1)},children:Object(te.jsx)(Me,{subjectId:g,onAddNote:A.mutate})}),Object(te.jsx)(nn.a,{open:Boolean(i),onClose:function(){return o(null)},children:Object(te.jsx)(_e,{note:i,searchText:f,subject:T.name,closeNote:function(){return o(null)}})})]})})},wn=t(107),Sn=t.n(wn),kn=ne.b.div(T||(T=Object(Y.a)(["\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, 50%);\n"]))),Cn=function(){return Object(te.jsxs)(kn,{children:[Object(te.jsx)(ue.a,{variant:"h2",align:"center",gutterBottom:!0,children:"Welcome to Notes"}),Object(te.jsx)(ue.a,{variant:"body1",align:"center",style:{fontSize:"1.7rem",fontWeight:"300",maxWidth:"700px",margin:"0 auto"},children:"This app was created as a final project for Databases 2 course at AGH University of Science and Technology."}),Object(te.jsxs)(ue.a,{variant:"body1",align:"center",style:{fontSize:"1.7rem",fontWeight:"300",maxWidth:"800px",margin:"3rem auto",display:"flex",justifyContent:"center",gap:"2rem"},children:["Sources for this project with documentation:",Object(te.jsx)("a",{href:"https://github.com/Fadikk367/Notes-server",style:{textDecoration:"none",color:"white"},children:Object(te.jsx)(Ae.a,{color:"primary",variant:"contained",size:"large",endIcon:Object(te.jsx)(Sn.a,{fontSize:"large"}),children:"Source code"})})]})]})},zn=Object(ne.a)(q||(q=Object(Y.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Roboto', sans-serif;\n    background-color: #f0f0f0;\n  }\n"]))),Nn=ne.b.div(D||(D=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh + 1px);\n"]))),An=ne.b.div(B||(B=Object(Y.a)(["\n  max-width: 1200px;\n  min-width: 700px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  position: relative;\n  transform: translateX(-50%);\n  left: 50%;\n  box-shadow: -1px 4px 42px -6px rgba(43,43,43,0.64);\n"]))),Wn=ne.b.div(R||(R=Object(Y.a)(["\n  padding: 2rem;\n  flex-grow: 1;\n\n  /* background-color: #f0f0f0; */\n"])));var In=function(){return Object(te.jsxs)(Nn,{children:[Object(te.jsx)(zn,{}),Object(te.jsxs)(ae,{children:[Object(te.jsx)(Oe,{}),Object(te.jsx)(je,{})]}),Object(te.jsxs)(An,{children:[Object(te.jsx)(Wn,{children:Object(te.jsxs)(M.c,{children:[Object(te.jsx)(M.a,{path:"/",exact:!0,component:sn}),Object(te.jsx)(M.a,{path:"/subjects/:id/notes",component:yn}),Object(te.jsx)(M.a,{path:"/about",component:Cn})]})}),Object(te.jsx)(he,{})]})]})},Tn=new H.a;E.a.render(Object(te.jsx)(Q.a.StrictMode,{children:Object(te.jsx)(J.a,{client:Tn,children:Object(te.jsx)(L.a,{children:Object(te.jsx)(In,{})})})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.1ef11e7e.chunk.js.map