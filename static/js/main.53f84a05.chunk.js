(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{149:function(e,t,n){"use strict";n.r(t),n.d(t,"queryClient",(function(){return Ct}));var c,r,a,i,o,s,l,b,j,d,u,x,p,O,h,f,m,g,v,y,w,S,k,z,C,N,A,W,I,T,q,D,B,R=n(0),F=n.n(R),Q=n(16),V=n.n(Q),E=n(26),L=n(203),H=n(70),J=n(18),M=n(21),U=n(11),X=n.n(U),G=n(20),K=n(22),P=n(8),Y=n(36),Z=n.n(Y),$=n(204),_=n(206),ee=n(9),te=n(2),ne=ee.b.header(c||(c=Object(P.a)(["\n  width: 100%;\n  background-color: #3f51b5;\n\n  color: white;\n"]))),ce=ee.b.div(r||(r=Object(P.a)(["\n  max-width: 1200px;\n  min-width: 700px;\n  padding: 2rem;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;;\n"]))),re=function(e){var t=e.children;return Object(te.jsx)(ne,{children:Object(te.jsx)(ce,{children:t})})},ae=n(205),ie=ee.b.ul(a||(a=Object(P.a)(["\n  display: flex;\n  list-style-type: none;\n  gap: 1rem;\n\n  color: white;\n  font-size: 2rem;\n"]))),oe=Object(ee.b)(E.c)(i||(i=Object(P.a)(["\n  text-decoration: none;\n  color: white;\n"]))),se=Object(ee.b)(ae.a)(o||(o=Object(P.a)(["\n  && {\n    font-size: 1.3rem;\n    font-weight: 300;\n    color: white;\n  }\n"]))),le=function(){return Object(te.jsx)("div",{children:Object(te.jsx)(ie,{children:Object(te.jsxs)(se,{children:[Object(te.jsx)(oe,{to:"/subjects",children:"Home"}),Object(te.jsx)(oe,{to:"/subjects",children:"Subjects"}),Object(te.jsx)(oe,{to:"/about",children:"About"})]})})})},be=n(101),je=n.n(be),de=n(187),ue=Object(ee.b)(E.b)(s||(s=Object(P.a)(["\n  text-decoration: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),xe=function(){return Object(te.jsxs)(ue,{to:"/subjects",children:[Object(te.jsx)(je.a,{fontSize:"large"}),Object(te.jsx)(de.a,{variant:"h5",style:{fontWeight:"300"},children:"Notes"})]})},pe=ee.b.div(l||(l=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2rem;\n  background-color: #3f51b5;\n  width: 100%;\n  color: white;\n"]))),Oe=function(){return Object(te.jsxs)(pe,{children:[Object(te.jsx)("span",{children:"WFiIS-BD2-2021"}),Object(te.jsx)("span",{children:"Adrian Furman"})]})},he=n(189),fe=n(190),me=n(188),ge=Object(ee.b)(E.b)(b||(b=Object(P.a)(["\n  text-decoration: none;\n  color: black;\n  position: relative;\n"]))),ve=Object(ee.b)(me.a)(j||(j=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),ye=function(e){var t=e.id,n=e.name,c=e.description;return Object(te.jsx)(ge,{to:"/subjects/".concat(t,"/notes"),children:Object(te.jsx)(he.a,{elevation:3,style:{height:"100%"},children:Object(te.jsxs)(fe.a,{style:{height:"100%",padding:"0"},children:[Object(te.jsx)("img",{src:"https://placeholder.pics/svg/300x200",alt:"sss",style:{width:"100%",padding:"0"}}),Object(te.jsxs)(ve,{children:[Object(te.jsx)(de.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n}),Object(te.jsx)(de.a,{variant:"body2",color:"textSecondary",component:"p",children:c})]})]})})})},we=n(43),Se=ee.b.div(d||(d=Object(P.a)(["\n  width: 800px;\n\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 2rem;\n\n  background-color: white;\n"]))),ke=ee.b.form(u||(u=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),ze=ee.b.div(x||(x=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n"]))),Ce=n(201),Ne=n(191),Ae=F.a.forwardRef((function(e,t){var n=Object(we.b)(),c=n.handleSubmit,r=n.control,a=e.onAddSubject,i=c(function(){var e=Object(G.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(te.jsx)(Se,{ref:t,children:Object(te.jsxs)(ke,{onSubmit:i,children:[Object(te.jsx)(de.a,{variant:"h5",children:"Add new subject:"}),Object(te.jsx)(we.a,{name:"name",control:r,defaultValue:"",rules:{required:"Name is required"},render:function(e){var t=e.field,n=e.fieldState.error;return Object(te.jsx)(Ce.a,Object(M.a)(Object(M.a)({label:"Name",fullWidth:!0,variant:"outlined"},t),{},{error:!!n,helperText:n&&n.message}))}}),Object(te.jsx)(we.a,{name:"description",control:r,defaultValue:"",rules:{required:"Description is required"},render:function(e){var t=e.field,n=e.fieldState.error;return Object(te.jsx)(Ce.a,Object(M.a)(Object(M.a)({label:"Description",fullWidth:!0,variant:"outlined",multiline:!0,rows:4},t),{},{error:!!n,helperText:n&&n.message}))}}),Object(te.jsxs)(ze,{children:[Object(te.jsx)(Ne.a,{type:"submit",variant:"contained",color:"secondary",children:"Cancel"}),Object(te.jsx)(Ne.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})})),We=(ee.b.article(p||(p=Object(P.a)(["\n  padding: 1rem;\n  border: 1px solid grey;\n\n  border-radius: 5px;\n"]))),ee.b.span(O||(O=Object(P.a)(["\n  font-size: 0.9rem;\n  color: gray;\n  display: flex;\n  gap: 0.5rem;\n  justify-content: space-between;\n  align-items: center;\n"])))),Ie=n(193),Te=n(192),qe=n(69),De=n.n(qe),Be=n(103),Re=n.n(Be),Fe=n(102),Qe=n.n(Fe),Ve=function(e){var t=e.title,n=e.content,c=e.createdAt,r=e.onDeleteNote,a=e.id,i=e.onOpenNote;return Object(te.jsxs)(he.a,{elevation:3,children:[Object(te.jsxs)(me.a,{children:[Object(te.jsxs)(de.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{display:"flex",justifyContent:"space-between"},children:[t,Object(te.jsxs)(We,{children:[Object(te.jsx)(De.a,{fontSize:"small"}),c.substring(0,10)]})]}),Object(te.jsx)(de.a,{variant:"body2",color:"textSecondary",component:"p",children:n.substring(0,160)+"..."})]}),Object(te.jsx)(Te.a,{}),Object(te.jsxs)(Ie.a,{children:[Object(te.jsx)(Ne.a,{variant:"contained",size:"small",color:"primary",endIcon:Object(te.jsx)(Qe.a,{}),onClick:function(){return i(a)},children:"See more"}),Object(te.jsx)(Ne.a,{variant:"contained",size:"small",color:"secondary",endIcon:Object(te.jsx)(Re.a,{}),onClick:function(){return r(a)},children:"delete"})]})]})},Ee=(ee.b.div(h||(h=Object(P.a)(["\n  width: 300px;\n  height: 60px;\n  display: flex;\n  border-radius: 30px;\n  border: 3px solid blue;\n\n  justify-content: start;\n  align-items: center;\n  padding: 0.3rem 1rem;\n"]))),n(104),ee.b.div(f||(f=Object(P.a)(["\n  width: 1000px;\n\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 2rem;\n\n  background-color: white;\n"])))),Le=ee.b.form(m||(m=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),He=ee.b.div(g||(g=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n"]))),Je=F.a.forwardRef((function(e,t){var n=Object(we.b)(),c=n.handleSubmit,r=n.control,a=e.subjectId,i=e.onAddNote,o=c((function(e){i(Object(M.a)(Object(M.a)({},e),{},{subjectId:a}))}));return Object(te.jsx)(Ee,{ref:t,children:Object(te.jsxs)(Le,{onSubmit:o,children:[Object(te.jsx)(de.a,{variant:"h5",children:"Add new note or definition:"}),Object(te.jsx)(we.a,{name:"title",control:r,defaultValue:"",rules:{required:"Title is required"},render:function(e){var t=e.field,n=e.fieldState.error;return Object(te.jsx)(Ce.a,Object(M.a)(Object(M.a)({label:"Titile",fullWidth:!0,variant:"outlined"},t),{},{error:!!n,helperText:n&&n.message}))}}),Object(te.jsx)(we.a,{name:"content",control:r,defaultValue:"",rules:{required:"Content is required"},render:function(e){var t=e.field,n=e.fieldState.error;return Object(te.jsx)(Ce.a,Object(M.a)(Object(M.a)({label:"Content",fullWidth:!0,variant:"outlined",multiline:!0,rows:12},t),{},{error:!!n,helperText:n&&n.message}))}}),Object(te.jsxs)(He,{children:[Object(te.jsx)(Ne.a,{type:"submit",variant:"contained",color:"secondary",children:"Cancel"}),Object(te.jsx)(Ne.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})})),Me=n(194),Ue=ee.b.div(v||(v=Object(P.a)(["\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  max-width: 1240px;\n  height: 100vh;\n  overflow-y: auto;\n  background-color: white;\n  padding: 2rem\n"]))),Xe=ee.b.header(y||(y=Object(P.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 3px solid #3f51b5;\n  margin-bottom: 1rem;\n"]))),Ge=ee.b.span(w||(w=Object(P.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 1rem;\n  gap: 0.5rem;\n  color: gray;\n"]))),Ke=ee.b.span(S||(S=Object(P.a)(["\n  color: #515151;\n  padding: 5px 10px;\n  border-radius: 10px;\n  background-color: yellow;\n  font-weight: 400;\n"]))),Pe=Object(ee.b)(Me.a)(k||(k=Object(P.a)(["\n  && {\n    position: absolute;\n    right: 0rem;\n  }\n"]))),Ye=n(105),Ze=n.n(Ye),$e=F.a.forwardRef((function(e,t){var n=e.note,c=e.searchText,r=e.subject,a=e.closeNote,i=n.title,o=n.content,s=n.createdAt,l=o.split("\n").map((function(e,t){if(!e)return null;var n=[];if(c){for(var r=e.split(new RegExp("".concat(c),"i")),a=0;a<r.length-1;a++)n.push(r[a]),n.push(Object(te.jsx)(Ke,{children:c.toUpperCase()},(t+1)*(a+1)));n.push(r[r.length-1])}else n.push(e);return Object(te.jsx)(de.a,{variant:"body1",style:{fontSize:"1.2rem",fontWeight:"300",marginBottom:"1rem"},children:n},t)}));return Object(te.jsxs)(Ue,{children:[Object(te.jsxs)(Xe,{children:[Object(te.jsxs)(de.a,{variant:"h4",children:[r," / ",i,Object(te.jsxs)(Ge,{children:[Object(te.jsx)(De.a,{}),s.substring(0,10)]})]}),Object(te.jsx)(Pe,{"aria-label":"add",onClick:a,children:Object(te.jsx)(Ze.a,{})})]}),l]})})),_e=n(195),et=n(202),tt=n(106),nt=n.n(tt),ct=ee.b.div(z||(z=Object(P.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  grid-gap: 2rem;\n"]))),rt=ee.b.header(C||(C=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),at=function(){var e=Object(R.useState)(!1),t=Object(K.a)(e,2),n=t[0],c=t[1],r=Object($.a)("subjects",Object(G.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("https://bd2-notes.azurewebsites.net/Subject");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))),a=r.isLoading,i=r.data,o=Object(_.a)((function(e){return Z.a.post("https://bd2-notes.azurewebsites.net/Subject",e)}),{onSuccess:function(){Ct.invalidateQueries("subjects"),c(!1)}});return Object(te.jsxs)("div",{children:[Object(te.jsxs)(rt,{children:[Object(te.jsx)(de.a,{variant:"h4",children:"Subjects"}),Object(te.jsx)(Ne.a,{variant:"contained",color:"primary",onClick:function(){return c(!0)},startIcon:Object(te.jsx)(nt.a,{}),children:"add subject"})]}),a?Object(te.jsx)(_e.a,{style:{width:"100%"}}):Object(te.jsx)(ct,{children:i.map((function(e){return Object(te.jsx)(ye,Object(M.a)({},e),e.id)}))}),Object(te.jsx)(et.a,{open:n,onClose:function(){return c(!1)},children:Object(te.jsx)(Ae,{onAddSubject:o.mutate})})]})},it=n(151),ot=Object(ee.b)(it.a)(N||(N=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  margin-bottom: 1.25rem;\n"]))),st=ee.b.div(A||(A=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 3px solid #3f51b5;\n"]))),lt=ee.b.div(W||(W=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),bt=ee.b.div(I||(I=Object(P.a)(["\n  width: 400px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n\n  & > :first-child {\n    flex: 1;\n  }\n"]))),jt=n(196),dt=n(108),ut=n(207),xt=n(197),pt=n(198),Ot=n(199),ht=n(200),ft=function(){var e=Object(R.useState)(!1),t=Object(K.a)(e,2),n=t[0],c=t[1],r=Object(R.useState)(null),a=Object(K.a)(r,2),i=a[0],o=a[1],s=Object(R.useState)(null),l=Object(K.a)(s,2),b=l[0],j=l[1],d=Object(R.useState)(""),u=Object(K.a)(d,2),x=u[0],p=u[1],O=Object(R.useState)(""),h=Object(K.a)(O,2),f=h[0],m=h[1],g=parseInt(Object(J.g)().id),v=Object(J.f)(),y=Object($.a)("subjects",Object(G.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("https://bd2-notes.azurewebsites.net/Subject");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))),w=y.isLoading,S=y.data,k=Object($.a)(["subject-".concat(g,"-notes"),f],function(){var e=Object(G.a)(X.a.mark((function e(t){var n,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,c=n[1],e.next=4,Z.a.get("https://bd2-notes.azurewebsites.net/Subject/".concat(g,"/Notes?search=").concat(c));case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=k.isLoading,C=k.data,N=k.refetch,A=Object(_.a)((function(e){return Z.a.post("https://bd2-notes.azurewebsites.net/Note",e)}),{onSuccess:function(){Ct.invalidateQueries("subject-".concat(g,"-notes")),c(!1)}}),W=Object(_.a)((function(){return Z.a.delete("https://bd2-notes.azurewebsites.net/Subject/".concat(g))}),{onSuccess:function(){v.push("/subjects"),Ct.invalidateQueries("subjects")}}),I=Object(_.a)((function(e){return Z.a.delete("https://bd2-notes.azurewebsites.net/Note/".concat(e))}),{onSuccess:function(){Ct.invalidateQueries("subject-".concat(g,"-notes"))}}),T=w?null:S.find((function(e){return e.id===g})),q=function(e){var t=C.find((function(t){return t.id===e}));t&&o(t)};return Object(te.jsx)("div",{children:w?null:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(st,{children:[Object(te.jsxs)(de.a,{variant:"h4",children:[Object(te.jsx)(jt.a,{onClick:function(e){return v.push("/subjects")},children:Object(te.jsx)(xt.a,{})}),T&&T.name]}),Object(te.jsx)(jt.a,{onClick:function(e){return j(e.currentTarget)},children:Object(te.jsx)(pt.a,{})}),Object(te.jsx)(dt.a,{id:"simple-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(e){return j(null)},children:Object(te.jsx)(ut.a,{onClick:W.mutate,children:"Delete subject"})})]}),Object(te.jsxs)(ot,{component:"form",elevation:5,onSubmit:function(e){e.preventDefault(),N()},children:[Object(te.jsxs)(bt,{children:[Object(te.jsx)(Ce.a,{placeholder:"Search by text",value:x,onChange:function(e){return p(e.target.value)}}),Object(te.jsx)(Me.a,{color:"primary",size:"medium",type:"submit","aria-label":"search",onClick:function(){return m(x)},children:Object(te.jsx)(Ot.a,{})})]}),Object(te.jsx)(Te.a,{orientation:"vertical"}),Object(te.jsx)(Ne.a,{color:"primary",variant:"contained",startIcon:Object(te.jsx)(ht.a,{}),onClick:function(){return c(!0)},children:"Add note"})]}),z?Object(te.jsx)(_e.a,{style:{width:"100%"}}):Object(te.jsx)(lt,{children:C.map((function(e){return Object(te.jsx)(Ve,Object(M.a)(Object(M.a)({},e),{},{onDeleteNote:I.mutate,onOpenNote:q}),e.id)}))}),Object(te.jsx)(et.a,{open:n,onClose:function(){return c(!1)},children:Object(te.jsx)(Je,{subjectId:g,onAddNote:A.mutate})}),Object(te.jsx)(et.a,{open:Boolean(i),onClose:function(){return o(null)},children:Object(te.jsx)($e,{note:i,searchText:f,subject:T.name,closeNote:function(){return o(null)}})})]})})},mt=n(107),gt=n.n(mt),vt=function(){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(de.a,{variant:"h2",align:"center",gutterBottom:!0,children:"Welcome to Notes"}),Object(te.jsx)(de.a,{variant:"body1",align:"center",style:{fontSize:"1.7rem",fontWeight:"300",maxWidth:"700px",margin:"0 auto"},children:"This app was created as a final project for Databases 2 course at AGH University of Science and Technology."}),Object(te.jsxs)(de.a,{variant:"body1",align:"center",style:{fontSize:"1.7rem",fontWeight:"300",maxWidth:"800px",margin:"3rem auto",display:"flex",justifyContent:"center",gap:"2rem"},children:["Sources for this project and coumentation:",Object(te.jsx)(E.b,{to:"/",style:{textDecoration:"none",color:"white"},children:Object(te.jsx)(Ne.a,{color:"primary",variant:"contained",size:"large",endIcon:Object(te.jsx)(gt.a,{fontSize:"large"}),children:"Source code"})})]})]})},yt=Object(ee.a)(T||(T=Object(P.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Roboto', sans-serif;\n    background-color: #f0f0f0;\n  }\n"]))),wt=ee.b.div(q||(q=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh + 1px);\n"]))),St=ee.b.div(D||(D=Object(P.a)(["\n  max-width: 1200px;\n  min-width: 700px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  position: relative;\n  transform: translateX(-50%);\n  left: 50%;\n  box-shadow: -1px 4px 42px -6px rgba(43,43,43,0.64);\n"]))),kt=ee.b.div(B||(B=Object(P.a)(["\n  padding: 2rem;\n  flex-grow: 1;\n\n  /* background-color: #f0f0f0; */\n"])));var zt=function(){return Object(te.jsxs)(wt,{children:[Object(te.jsx)(yt,{}),Object(te.jsxs)(re,{children:[Object(te.jsx)(xe,{}),Object(te.jsx)(le,{})]}),Object(te.jsxs)(St,{children:[Object(te.jsx)(kt,{children:Object(te.jsxs)(J.c,{children:[Object(te.jsx)(J.a,{path:"/subjects",exact:!0,component:at}),Object(te.jsx)(J.a,{path:"/subjects/:id/notes",component:ft}),Object(te.jsx)(J.a,{path:"/about",component:vt})]})}),Object(te.jsx)(Oe,{})]})]})},Ct=new L.a;V.a.render(Object(te.jsx)(F.a.StrictMode,{children:Object(te.jsx)(H.a,{client:Ct,children:Object(te.jsx)(E.a,{children:Object(te.jsx)(zt,{})})})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.53f84a05.chunk.js.map